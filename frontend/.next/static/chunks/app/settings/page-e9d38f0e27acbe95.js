(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{4115:function(e,t,s){Promise.resolve().then(s.bind(s,5802))},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7769:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5802:function(e,t,s){"use strict";s.d(t,{default:function(){return F}});var r=s(7437),a=s(2265),n=s(9820),i=s(2381),o=s(279),l=s(5060),d=s(9174),c=s(5863),u=s(2252),h=s(9763);let m=(0,h.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y=(0,h.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var p=s(2489),v=s(7769),f=s(2208);let x=(0,h.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),g=(0,h.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=s(5937),j=s(1806),k=s(1713),N=s(9827),w=s(1770),D=s(6305);let A=()=>{let{data:e=[],isLoading:t,error:s}=(0,j.ko)();return console.log("\uD83D\uDD27 useAllApiKeys called"),console.log("\uD83D\uDCCB Providers:",e),console.log("⏳ Providers loading:",t),console.log("❌ Providers error:",s),(0,k.a)({queryKey:["allApiKeys"],queryFn:async()=>{if(console.log("\uD83D\uDD0D Fetching all API keys..."),console.log("\uD83D\uDCCA Available providers:",e),0===e.length)return console.log("⚠️ No providers available, returning empty array"),[];let t=e.map(async e=>{try{console.log("\uD83D\uDD0D Fetching keys for provider ".concat(e.id," (").concat(e.displayName,")"));let t=await D.x.get("/api/providers/".concat(e.id,"/keys"));return console.log("\uD83D\uDCE6 Response for provider ".concat(e.id,":"),t),(t.data||t||[]).map(t=>({...t,providerId:e.id,providerName:e.name,providerDisplayName:e.displayName}))}catch(t){return console.error("❌ Failed to fetch keys for provider ".concat(e.id,":"),t),[]}}),s=(await Promise.all(t)).flat();return console.log("✅ All API keys fetched:",s),s},enabled:!t&&e.length>0,staleTime:0})},P=()=>{let e=(0,N.NL)();return(0,w.D)({mutationFn:async e=>{let{providerId:t,...s}=e;console.log("\uD83D\uDD27 Creating API key:",{providerId:t,data:s});let r=await D.x.post("/api/providers/".concat(t,"/keys"),s);return console.log("✅ API key created:",r),r.data||r},onSuccess:()=>{e.invalidateQueries({queryKey:["allApiKeys"]}),e.invalidateQueries({queryKey:["providers"]})}})},I=()=>{let e=(0,N.NL)();return(0,w.D)({mutationFn:async e=>{let{providerId:t,keyId:s,data:r}=e,a=await D.x.put("/api/providers/".concat(t,"/keys/").concat(s),r);return a.data||a},onSuccess:()=>{e.invalidateQueries({queryKey:["allApiKeys"]})}})},C=()=>{let e=(0,N.NL)();return(0,w.D)({mutationFn:async e=>{let{providerId:t,keyId:s}=e,r=await D.x.put("/api/providers/".concat(t,"/keys/").concat(s,"/activate"));return r.data||r},onSuccess:()=>{e.invalidateQueries({queryKey:["allApiKeys"]})}})},S=()=>{let e=(0,N.NL)();return(0,w.D)({mutationFn:async e=>{let{providerId:t,keyId:s}=e;return await D.x.delete("/api/providers/".concat(t,"/keys/").concat(s))},onSuccess:()=>{e.invalidateQueries({queryKey:["allApiKeys"]})}})},M=()=>(0,w.D)({mutationFn:async e=>{let{providerId:t,keyId:s}=e;return console.log("\uD83E\uDDEA Testing API key ".concat(s," for provider ").concat(t)),{success:!0,message:"Test functionality not implemented yet"}}});var R=s(5154);function F(){var e,t;let{data:s=[]}=(0,j.ko)(),{data:h=[],isLoading:k,error:N}=A(),{data:w}=(0,R.f)(),D=P(),F=I(),Z=S(),K=C(),E=M(),[O,z]=(0,a.useState)(!1),[V,T]=(0,a.useState)(null),[q,L]=(0,a.useState)(new Set),[_,U]=(0,a.useState)(null),[Y,G]=(0,a.useState)({name:"",providerId:0,keyValue:""}),H=e=>{L(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},J=e=>!e||"string"!=typeof e||e.length<=8?"***":e.substring(0,4)+"***"+e.substring(e.length-4),Q=async()=>{if(!Y.name||!Y.providerId||!Y.keyValue){alert("Please fill in all fields");return}try{await D.mutateAsync(Y),G({name:"",providerId:0,keyValue:""}),z(!1)}catch(e){console.error("Failed to create API key:",e),alert("Failed to create API key. Please try again.")}},X=async(e,t)=>{if(confirm("Are you sure you want to delete this API key? This action cannot be undone."))try{await Z.mutateAsync({providerId:e,keyId:t})}catch(e){console.error("Failed to delete API key:",e),alert("Failed to delete API key. Please try again.")}},B=async(e,t)=>{try{await K.mutateAsync({providerId:e,keyId:t})}catch(e){console.error("Failed to activate API key:",e),alert("Failed to activate API key. Please try again.")}},W=async(e,t)=>{try{let s=await E.mutateAsync({providerId:e,keyId:t});alert(s.success?s.message:"API key test failed")}catch(e){console.error("Failed to test API key:",e),alert("Failed to test API key. Please try again.")}},$=e=>{U({id:e.id,name:e.name,keyValue:e.keyValue,providerId:e.providerId}),T(e.id)},ee=()=>{U(null),T(null)},et=async()=>{if(_)try{await F.mutateAsync({providerId:_.providerId,keyId:_.id,data:{name:_.name,keyValue:_.keyValue}}),U(null),T(null)}catch(e){console.error("Failed to update API key:",e),alert("Failed to update API key. Please try again.")}},es=e=>{let t=s.find(t=>t.id===e);return t?t.displayName:"Unknown Provider"};return k?(0,r.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(c.Z,{className:"h-8 w-8 animate-spin"}),(0,r.jsx)("span",{className:"ml-2",children:"Loading API keys..."})]})}):N?(0,r.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,r.jsxs)(b.bZ,{variant:"destructive",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4"}),(0,r.jsxs)(b.X,{children:["Failed to load API keys: ",(null==N?void 0:N.message)||"Unknown error"]})]})}):(console.log("\uD83D\uDD0D Debug - API Keys data:",h),console.log("\uD83D\uDD0D Debug - Providers data:",s),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"API Key Management"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your API keys for different data providers"})]}),(0,r.jsxs)(i.z,{onClick:()=>z(!0),className:"flex items-center gap-2",disabled:O,children:[(0,r.jsx)(m,{className:"h-4 w-4"}),"Add API Key"]})]}),(0,r.jsxs)(b.bZ,{children:[(0,r.jsx)(u.Z,{className:"h-4 w-4"}),(0,r.jsx)(b.X,{children:"API keys are encrypted and stored securely. Only you can see the full key values. Make sure to keep your API keys confidential and never share them publicly."})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-100 p-2 rounded",children:["Debug: ",h.length," API keys loaded, ",s.length," providers available"]}),O&&(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"Add New API Key"}),(0,r.jsx)(n.SZ,{children:"Add an API key for one of your data providers"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"keyName",children:"Key Name"}),(0,r.jsx)(o.I,{id:"keyName",placeholder:"e.g., Production Key, Development Key",value:Y.name,onChange:e=>G(t=>({...t,name:e.target.value}))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"provider",children:"Provider"}),(0,r.jsxs)("select",{id:"provider",className:"w-full p-2 border border-gray-300 rounded-md",value:Y.providerId,onChange:e=>G(t=>({...t,providerId:parseInt(e.target.value)})),children:[(0,r.jsx)("option",{value:"0",children:"Select a provider"}),s.map(e=>(0,r.jsx)("option",{value:e.id,children:e.displayName},e.id))]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"apiKey",children:"API Key"}),(0,r.jsx)(o.I,{id:"apiKey",type:"password",placeholder:"Enter your API key",value:Y.keyValue,onChange:e=>G(t=>({...t,keyValue:e.target.value}))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{onClick:Q,disabled:D.isPending,children:[D.isPending?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(y,{className:"h-4 w-4 mr-2"}),"Save API Key"]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>{z(!1),G({name:"",providerId:0,keyValue:""})},disabled:D.isPending,children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Your API Keys"}),0===h.length?(0,r.jsx)(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsx)(u.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No API Keys"}),(0,r.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"You haven't added any API keys yet. Add your first API key to start using the providers."}),(0,r.jsxs)(i.z,{onClick:()=>z(!0),children:[(0,r.jsx)(m,{className:"h-4 w-4 mr-2"}),"Add Your First API Key"]})]})}):(0,r.jsx)("div",{className:"grid gap-4",children:h.map(e=>(0,r.jsx)(n.Zb,{children:(0,r.jsx)(n.aY,{className:"p-6",children:V===e.id?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-medium",children:"Edit API Key"}),(0,r.jsx)(d.C,{variant:"outline",children:e.providerDisplayName||es(e.providerId)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"edit-name-".concat(e.id),children:"Key Name"}),(0,r.jsx)(o.I,{id:"edit-name-".concat(e.id),value:(null==_?void 0:_.name)||"",onChange:e=>U(t=>t?{...t,name:e.target.value}:null),placeholder:"API Key Name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"edit-key-".concat(e.id),children:"API Key Value"}),(0,r.jsx)(o.I,{id:"edit-key-".concat(e.id),type:"password",value:(null==_?void 0:_.keyValue)||"",onChange:e=>U(t=>t?{...t,keyValue:e.target.value}:null),placeholder:"Enter your API key"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{onClick:et,disabled:F.isPending,children:[F.isPending?(0,r.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,r.jsx)(y,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:ee,disabled:F.isPending,children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"font-medium",children:e.name||"Unnamed Key"}),(0,r.jsx)(d.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"}),(0,r.jsx)(d.C,{variant:"outline",children:e.providerDisplayName||es(e.providerId)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("code",{className:"bg-muted px-2 py-1 rounded text-sm font-mono",children:q.has(e.id)?e.keyValue||"No key value":J(e.keyValue)}),(0,r.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>H(e.id),children:q.has(e.id)?(0,r.jsx)(v.Z,{className:"h-4 w-4"}):(0,r.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Created: ",e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>$(e),children:(0,r.jsx)(x,{className:"h-4 w-4"})}),(0,r.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>W(e.providerId,e.id),disabled:E.isPending,children:E.isPending?(0,r.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}):"Test"}),(0,r.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>B(e.providerId,e.id),disabled:K.isPending,children:e.isActive?"Deactivate":"Activate"}),(0,r.jsx)(i.z,{variant:"destructive",size:"sm",onClick:()=>X(e.providerId,e.id),disabled:Z.isPending,children:(0,r.jsx)(g,{className:"h-4 w-4"})})]})]})})},e.id))})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"API Usage Overview"}),(0,r.jsx)(n.SZ,{children:"Monitor your API key usage and limits"})]}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:h.filter(e=>e.isActive).length}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Keys"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:s.length}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Providers"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:(null==w?void 0:null===(t=w.credits)||void 0===t?void 0:null===(e=t.thisMonth)||void 0===e?void 0:e.toLocaleString())||"0"}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"API Calls This Month"})]})]})})]})]}))}},5937:function(e,t,s){"use strict";s.d(t,{Cd:function(){return d},X:function(){return c},bZ:function(){return l}});var r=s(7437),a=s(2265),n=s(7712),i=s(3448);let o=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef((e,t)=>{let{className:s,variant:a,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:a}),s),...n})});l.displayName="Alert";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})});d.displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...a})});c.displayName="AlertDescription"},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var r=s(7437);s(2265);var a=s(7712),n=s(3448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),a=s(2265),n=s(7053),i=s(7712),o=s(3448);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:s})),ref:t,...c})});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return l}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),a=s(2265),n=s(3448);let i=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},5060:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var r=s(7437),a=s(2265),n=s(6394),i=s(7712),o=s(3448);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,o.cn)(l(),s),...a})});d.displayName=n.f.displayName},6305:function(e,t,s){"use strict";s.d(t,{x:function(){return a}});class r{async request(e,t){let s=this.getToken(),r=new Headers(t.headers);r.set("Content-Type","application/json"),s&&r.set("Authorization","Bearer ".concat(s));let a=await fetch("".concat(this.baseURL).concat(e),{...t,headers:r});if(204===a.status)return{success:!0,data:null};let n=await a.json();if(!a.ok){var i;throw Error((null===(i=n.error)||void 0===i?void 0:i.message)||"HTTP error! status: ".concat(a.status))}return n}async get(e,t){return console.log("\uD83C\uDF10 Making GET request to:",e),this.request(e,{...t,method:"GET"})}async post(e,t,s){return this.request(e,{...s,method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t,s){return this.request(e,{...s,method:"PUT",body:t?JSON.stringify(t):void 0})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}async getJobs(){console.log("2. [apiClient] getJobs() method called.");let e=this.get("/api/jobs");return console.log("3. [apiClient] get(/api/jobs) promise returned."),e}async getJobStatus(e){return this.get("/api/jobs/".concat(e))}async getProviders(){return this.get("/api/providers")}async testProvider(e){return this.post("/api/providers/".concat(e,"/test"))}async executeProvider(e,t){return this.post("/api/providers/".concat(e,"/execute"),t)}constructor(){this.baseURL="http://localhost:3002",this.getToken=()=>localStorage.getItem("authToken"),console.log("API Client initialized with URL:",this.baseURL)}}let a=new r;t.Z=a},5154:function(e,t,s){"use strict";s.d(t,{f:function(){return i},k:function(){return n}});var r=s(1713),a=s(6305);let n={async getStats(){try{console.log("\uD83D\uDD0D Dashboard API: Starting request...");let e=localStorage.getItem("authToken");console.log("\uD83D\uDD11 Auth token exists:",!!e);let t=await a.x.get("/api/dashboard/stats");if(console.log("\uD83D\uDCCA Dashboard API response:",t),!t||!t.data)throw Error("No data received from dashboard API");return t.data}catch(e){throw console.error("❌ Dashboard API error:",e),e}}},i=()=>(0,r.a)({queryKey:["dashboardStats"],queryFn:n.getStats,refetchInterval:3e4})},1806:function(e,t,s){"use strict";s.d(t,{ko:function(){return i},kr:function(){return l},li:function(){return o}});var r=s(1713),a=s(1770),n=s(6305);let i=()=>(0,r.a)({queryKey:["providers"],queryFn:async()=>{try{var e;console.log("\uD83D\uDD0D Fetching providers...");let t=await n.x.getProviders();if(console.log("\uD83D\uDCE6 Raw API response:",t),console.log("\uD83D\uDCE6 Response type:",typeof t),console.log("\uD83D\uDCE6 Response keys:",Object.keys(t||{})),t&&t.success&&t.data)return console.log("✅ Found success + data format"),console.log("✅ Data:",t.data),console.log("✅ Data type:",typeof t.data),console.log("✅ Is array:",Array.isArray(t.data)),t.data;if(Array.isArray(t))return console.log("✅ Found direct array format"),t;if(t&&t.providers)return console.log("✅ Found providers property format"),t.providers;throw console.error("❌ Unexpected response format:",t),console.error("❌ Response constructor:",null==t?void 0:null===(e=t.constructor)||void 0===e?void 0:e.name),Error("Invalid response format: ".concat(JSON.stringify(t)))}catch(e){throw e instanceof Error?(console.error("❌ Error in queryFn:",e),console.error("❌ Error type:",e.constructor.name),console.error("❌ Error message:",e.message)):console.error("❌ An unknown error was thrown in queryFn:",e),e}},retry:!1,staleTime:0}),o=()=>(0,a.D)({mutationFn:async e=>{let{providerId:t,operation:s,params:r,options:a}=e;return await n.x.executeProvider(t,{operation:s,params:r,...void 0!==a&&{options:a}})}}),l=()=>(0,a.D)({mutationFn:async e=>{let{providerId:t,data:s}=e;return await n.x.post("/api/providers/".concat(t,"/bulk"),s)}})},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return o}});var r=s(2265),a=s(6840),n=s(7437),i=r.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},6840:function(e,t,s){"use strict";s.d(t,{WV:function(){return o},jH:function(){return l}});var r=s(2265),a=s(4887),n=s(7053),i=s(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,n.Z8)(`Primitive.${t}`),a=r.forwardRef((e,r)=>{let{asChild:a,...n}=e,o=a?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...n,ref:r})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},2894:function(e,t,s){"use strict";s.d(t,{R:function(){return o},m:function(){return i}});var r=s(8238),a=s(7989),n=s(1255),i=class extends a.F{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#r({type:"continue"})};this.#s=(0,n.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#r({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let s="pending"===this.state.status,r=!this.#s.canStart();try{if(s)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#r({type:"pending",context:t,variables:e,isPaused:r})}let a=await this.#s.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#r({type:"error",error:t})}}finally{this.#t.runNext(this)}}#r(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.Vr.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},1770:function(e,t,s){"use strict";s.d(t,{D:function(){return c}});var r=s(2265),a=s(2894),n=s(8238),i=s(4112),o=s(5345),l=class extends i.l{#a;#n=void 0;#i;#o;constructor(e,t){super(),this.#a=e,this.setOptions(t),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#a.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#l(),this.#d(e)}getCurrentResult(){return this.#n}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#l(),this.#d()}mutate(e,t){return this.#o=t,this.#i?.removeObserver(this),this.#i=this.#a.getMutationCache().build(this.#a,this.options),this.#i.addObserver(this),this.#i.execute(e)}#l(){let e=this.#i?.state??(0,a.R)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#d(e){n.Vr.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#n.variables,s=this.#n.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,s),this.#o.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#o.onError?.(e.error,t,s),this.#o.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#n)})})}},d=s(9827);function c(e,t){let s=(0,d.NL)(t),[a]=r.useState(()=>new l(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let i=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(n.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),c=r.useCallback((e,t)=>{a.mutate(e,t).catch(o.ZT)},[a]);if(i.error&&(0,o.L3)(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:c,mutateAsync:i.mutate}}}},function(e){e.O(0,[317,763,713,971,117,744],function(){return e(e.s=4115)}),_N_E=e.O()}]);